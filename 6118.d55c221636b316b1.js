"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6118],{6118:(C,m,l)=>{l.r(m),l.d(m,{InicioPassengerPageModule:()=>x});var u=l(177),j=l(4341),a=l(4742),d=l(70),p=l(467),e=l(3953),f=l(3656),h=l(3837);function v(t,r){if(1&t){const n=e.RV6();e.j41(0,"ion-content")(1,"h2"),e.EFF(2,"EN MANTENCI\xd3N"),e.k0s(),e.j41(3,"p"),e.EFF(4,"Para esta entrega, a\xfan no estar\xe1 el funcionamiento de este punto, gracias :D"),e.k0s(),e.j41(5,"p"),e.EFF(6,"Despu\xe9s se agregar\xe1n:"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Modo para los usuarios (Oscuro o claro)"),e.k0s(),e.j41(9,"p"),e.EFF(10,"Sonidos en general"),e.k0s(),e.j41(11,"p"),e.EFF(12,"Ayuda"),e.k0s(),e.j41(13,"ion-button",22),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.closeModal())}),e.EFF(14,"Confirmar"),e.k0s()()}}function b(t,r){if(1&t){const n=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Tu perfil"),e.k0s(),e.j41(4,"ion-buttons",23)(5,"ion-button",24),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.setOpen(!1))}),e.EFF(6,"Cerrar"),e.k0s()()()(),e.j41(7,"div")(8,"div",25),e.nrm(9,"ion-icon",26),e.k0s(),e.j41(10,"ion-item",27),e.nrm(11,"ion-icon",28),e.j41(12,"ion-label")(13,"p"),e.EFF(14,"Nombre y Apellido"),e.k0s(),e.j41(15,"h2"),e.EFF(16),e.nI1(17,"titlecase"),e.nI1(18,"titlecase"),e.k0s()()(),e.j41(19,"ion-item",29),e.nrm(20,"ion-icon",30),e.j41(21,"ion-label")(22,"p"),e.EFF(23,"Sede"),e.k0s(),e.j41(24,"h2"),e.EFF(25),e.nI1(26,"titlecase"),e.k0s()()(),e.j41(27,"ion-item",29),e.nrm(28,"ion-icon",31),e.j41(29,"ion-label")(30,"p"),e.EFF(31,"Direccion"),e.k0s(),e.j41(32,"h2"),e.EFF(33),e.nI1(34,"titlecase"),e.k0s()()(),e.j41(35,"ion-item",29),e.nrm(36,"ion-icon",32),e.j41(37,"ion-label")(38,"p"),e.EFF(39,"Correo"),e.k0s(),e.j41(40,"h2"),e.EFF(41),e.nI1(42,"titlecase"),e.k0s()()()(),e.j41(43,"div",33)(44,"div")(45,"ion-button",34),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.logout())}),e.EFF(46,"Cerrar Sesion"),e.k0s()()()}if(2&t){const n=e.XpG();e.R7$(16),e.Lme("",e.bMT(17,5,null==n.usuario?null:n.usuario.nombre)," ",e.bMT(18,7,null==n.usuario?null:n.usuario.apellido)," "),e.R7$(9),e.JRh(e.bMT(26,9,null==n.usuario?null:n.usuario.sede)),e.R7$(8),e.JRh(e.bMT(34,11,null==n.usuario?null:n.usuario.lugar)),e.R7$(8),e.JRh(e.bMT(42,13,null==n.usuario?null:n.usuario.correo))}}function _(t,r){if(1&t&&(e.j41(0,"ion-select-option",35),e.EFF(1),e.k0s()),2&t){const n=r.$implicit;e.Y8G("value",n.id),e.R7$(),e.JRh(n.nombre)}}function P(t,r){if(1&t){const n=e.RV6();e.j41(0,"div")(1,"div",36)(2,"div",37),e.nrm(3,"ion-icon",38),e.j41(4,"div")(5,"h6",39),e.EFF(6),e.k0s(),e.j41(7,"h6",40),e.EFF(8),e.k0s(),e.j41(9,"h6",40),e.EFF(10),e.nI1(11,"currency"),e.k0s(),e.j41(12,"h6",40),e.EFF(13),e.k0s(),e.j41(14,"h6",41),e.EFF(15),e.k0s()()(),e.j41(16,"div")(17,"ion-button",42),e.bIt("click",function(){e.eBV(n);const i=e.XpG();return e.Njj(i.tomarViaje())}),e.EFF(18," Tomar Viaje "),e.k0s()()()()}if(2&t){const n=e.XpG();e.R7$(6),e.SpI("Hora de salida: ",null==n.viajeCreado?null:n.viajeCreado.hora,""),e.R7$(2),e.SpI("Lugar: ",null==n.viajeCreado?null:n.viajeCreado.salida,""),e.R7$(2),e.SpI("Precio: ",e.ii3(11,5,null==n.viajeCreado?null:n.viajeCreado.precio,"CLP","$","1.0-0"),""),e.R7$(3),e.SpI("M\xe9todo de pago: ",null==n.viajeCreado?null:n.viajeCreado.metodoPago,""),e.R7$(2),e.SpI("Pasajeros: ",null==n.viajeCreado?null:n.viajeCreado.pasajeros,"")}}function I(t,r){1&t&&(e.j41(0,"p",43),e.EFF(1,"No hay viajes disponibles"),e.k0s())}const k=[{path:"",component:(()=>{var t;class r{constructor(o,i,s){this.alertController=o,this.router=i,this.dataService=s,this.viajeCreado=null,this.isModalOpen=!1,this.isModalOpen2=!1,this.navController=(0,e.WQX)(f.q9),this.sedes=[],this.sedeSeleccionada=null}ngOnInit(){var o;const i=localStorage.getItem("usuarioRegistrado");this.usuario=i?JSON.parse(i):null;const s=localStorage.getItem("viajeCreado");this.viajeCreado=s?JSON.parse(s):null,null!==(o=this.usuario)&&void 0!==o&&o.sede&&(this.usuario.sede=this.usuario.sede.replace(/^Sede\s+/i,""));const c=localStorage.getItem("viajeCreado");c&&(this.viajeCreado=JSON.parse(c)),this.dataService.getSedes().subscribe(g=>{this.sedes=g}),this.filtrarPorSede()}filtrarPorSede(o){var i;this.sedeSeleccionada=(null==o||null===(i=o.detail)||void 0===i?void 0:i.value)||null}irHistorialViajes(){this.router.navigate(["/travel-history"])}modoConductor(){var o=this;return(0,p.A)(function*(){o.usuario&&(o.usuario.tipoVehiculo&&o.usuario.matricula?o.router.navigate(["/inicio-conductor"]):yield(yield o.alertController.create({header:"Registro de Veh\xedculo",message:"Al parecer, usted no tiene registrado su veh\xedculo, \xbfle gustar\xeda registrar su veh\xedculo para iniciar el Modo Conductor?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary"},{text:"Ok",handler:()=>{o.router.navigate(["/register-driver"])}}]})).present())})()}mantencion(){this.isModalOpen=!0,this.reproducirError()}closeModal(){this.isModalOpen=!1}perfilUsuario(){this.isModalOpen2=!0}setOpen(o){this.isModalOpen2=o}reproducirError(){new Audio("assets/music/error.mp3").play().catch(i=>{console.error("Error al reproducir el sonido:",i)})}logout(){this.setOpen(!1),setTimeout(()=>{localStorage.removeItem("usuarioRegistrado"),localStorage.removeItem("viajeCreado"),this.router.navigate(["/login"])},200)}tomarViaje(){const o=localStorage.getItem("viajeCreado");let i=o?JSON.parse(o):null;i&&(i.pasajeros=parseInt(i.pasajeros)-1,i.pasajeros<0?this.eliminarViaje():(this.viajeTomado(),localStorage.setItem("viajeCreado",JSON.stringify(i)),setTimeout(()=>{window.location.reload()},1e3)))}viajeTomado(){var o=this;return(0,p.A)(function*(){yield(yield o.alertController.create({header:"\xa1Viaje tomado!",message:"El viaje ha sido tomado con \xe9xito.",buttons:["OK"]})).present()})()}eliminarViaje(){var o=this;return(0,p.A)(function*(){yield(yield o.alertController.create({header:"Error",message:"No se puede tomar viaje ya que no quedan puesto disponible",buttons:["OK"]})).present()})()}}return(t=r).\u0275fac=function(o){return new(o||t)(e.rXU(a.hG),e.rXU(d.Ix),e.rXU(h.u))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-inicio-passenger"]],decls:37,vars:12,consts:[["noViajes",""],[2,"--background","red",3,"fullscreen"],[2,"--background","rgb(231, 231, 231)","position","relative"],["color","medium",3,"click"],["name","settings-outline"],[3,"isOpen"],[1,"user-info",2,"position","absolute","top","25px","right","50px","display","flex","margin-right","20px"],[1,"avatar",2,"position","absolute","top","8px","right","16px"],["color","medium","name","person-circle-outline",2,"font-size","50px",3,"click"],[1,"container-inicio",2,"margin-bottom","80px"],[1,"opciones-inicio"],[1,"opciones"],["name","location-outline",2,"margin-right","10px","font-size","25px"],["placeholder","Selecciona una sede",2,"border-bottom","1px solid black",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],[2,"--border-radius","50px",3,"click"],["name","time-outline"],[1,"viajes",2,"padding","10px"],[4,"ngIf","ngIfElse"],[2,"--background","rgb(231, 231, 231)"],[2,"display","flex","justify-content","center","margin-bottom","20px"],["fill","Outline",2,"--background","rgb(199, 197, 197)","--color","black",3,"click"],["expand","full",3,"click"],["slot","end"],[3,"click"],[1,"avatar",2,"display","flex","justify-content","center","margin","10px 0px 70px"],["color","medium","name","person-circle-outline",2,"font-size","200px"],["lines","full",2,"border-top","solid 1px #c8c7cc"],["name","person-outline","slot","start","color","danger"],["lines","full"],["name","business-outline","slot","start","color","danger"],["name","home-outline","slot","start","color","danger"],["name","mail-outline","slot","start","color","danger"],[1,"final",2,"display","flex","justify-content","center"],["fill","Outline",2,"--color","white","--background","red","margin-bottom","50px",3,"click"],[3,"value"],[1,"viaje-card",2,"display","flex","justify-content","space-between","align-items","center","padding","15px","border","1px solid #e0e0e0","border-radius","10px","margin-bottom","10px"],[2,"display","flex","align-items","center"],["name","car-outline",2,"font-size","30px","margin-right","15px"],[2,"margin","0","font-weight","bold","font-size","16px"],[2,"margin","5px 0","font-size","15px"],[2,"margin","0","font-size","15px"],["id","toma-viaje","expand","block",2,"--border-radius","50px","--background","#3880ff","color","white",3,"click"],[2,"text-align","center","font-size","16px","color","#666"]],template:function(o,i){if(1&o){const s=e.RV6();e.j41(0,"ion-content",1)(1,"ion-header")(2,"ion-toolbar",2)(3,"ion-button",3),e.bIt("click",function(){return e.eBV(s),e.Njj(i.mantencion())}),e.nrm(4,"ion-icon",4),e.k0s(),e.j41(5,"ion-modal",5),e.DNE(6,v,15,0,"ng-template"),e.k0s(),e.j41(7,"div",6)(8,"ion-label"),e.EFF(9),e.nI1(10,"titlecase"),e.nI1(11,"titlecase"),e.k0s()(),e.j41(12,"div",7)(13,"ion-icon",8),e.bIt("click",function(){return e.eBV(s),e.Njj(i.perfilUsuario())}),e.k0s(),e.j41(14,"ion-modal",5),e.DNE(15,b,47,15,"ng-template"),e.k0s()()()(),e.nrm(16,"br")(17,"br"),e.j41(18,"div",9)(19,"div",10)(20,"div",11),e.nrm(21,"ion-icon",12),e.j41(22,"ion-select",13),e.bIt("ionChange",function(g){return e.eBV(s),e.Njj(i.filtrarPorSede(g))}),e.DNE(23,_,2,2,"ion-select-option",14),e.k0s()(),e.j41(24,"div",11)(25,"ion-button",15),e.bIt("click",function(){return e.eBV(s),e.Njj(i.irHistorialViajes())}),e.nrm(26,"ion-icon",16),e.EFF(27," Historial de viajes "),e.k0s()()(),e.j41(28,"div",17),e.DNE(29,P,19,10,"div",18)(30,I,2,0,"ng-template",null,0,e.C5r),e.k0s()(),e.j41(32,"ion-footer")(33,"ion-toolbar",19)(34,"div",20)(35,"ion-button",21),e.bIt("click",function(){return e.eBV(s),e.Njj(i.modoConductor())}),e.EFF(36," Modo conductor "),e.k0s()()()()()}if(2&o){const s=e.sdS(31);e.Y8G("fullscreen",!0),e.R7$(5),e.Y8G("isOpen",i.isModalOpen),e.R7$(4),e.Lme("",e.bMT(10,8,null==i.usuario?null:i.usuario.nombre)," ",e.bMT(11,10,null==i.usuario?null:i.usuario.apellido),""),e.R7$(5),e.Y8G("isOpen",i.isModalOpen2),e.R7$(9),e.Y8G("ngForOf",i.sedes),e.R7$(6),e.Y8G("ngIf",i.viajeCreado)("ngIfElse",s)}},dependencies:[u.Sq,u.bT,a.Jm,a.QW,a.W9,a.M0,a.eU,a.iq,a.uz,a.he,a.Nm,a.Ip,a.BC,a.ai,a.Sb,a.Je,u.PV,u.oe],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--overflow: hidden;display:flex;flex-direction:column;justify-content:space-between;height:100vh}ion-label[_ngcontent-%COMP%]{color:#000}.container-inicio[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:600px;margin:0 15px;border-radius:20px;background-color:#fff}.opciones-inicio[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:10px;background-color:#fff}.viaje-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;border:1px solid #e0e0e0;border-radius:10px;margin-bottom:10px}@media (min-height: 845px){ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{margin-top:132px}}@media (min-height: 882px){ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{margin-top:135px}}@media (min-height: 932px){ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{margin-top:170px}}@media (max-height: 667px){.container-inicio[_ngcontent-%COMP%]{height:420px}}']}),r})()}];let F=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[d.iI.forChild(k),d.iI]}),r})(),x=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.MD,j.YN,a.bv,F]}),r})()}}]);